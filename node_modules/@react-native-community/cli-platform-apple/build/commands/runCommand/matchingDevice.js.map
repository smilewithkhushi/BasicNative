{"version":3,"names":["matchingDevice","devices","deviceName","firstIOSDevice","find","d","type","logger","info","chalk","bold","name","error","undefined","deviceByName","device","formattedDeviceName","String","printFoundDevices","simulator","version","map","udid","join"],"sources":["../../../src/commands/runCommand/matchingDevice.ts"],"sourcesContent":["import {logger} from '@react-native-community/cli-tools';\nimport chalk from 'chalk';\nimport {Device} from '../../types';\n\nexport function matchingDevice(\n  devices: Array<Device>,\n  deviceName: string | true | undefined,\n) {\n  if (deviceName === true) {\n    const firstIOSDevice = devices.find((d) => d.type === 'device')!;\n    if (firstIOSDevice) {\n      logger.info(\n        `Using first available device named \"${chalk.bold(\n          firstIOSDevice.name,\n        )}\" due to lack of name supplied.`,\n      );\n      return firstIOSDevice;\n    } else {\n      logger.error('No iOS devices connected.');\n      return undefined;\n    }\n  }\n  const deviceByName = devices.find(\n    (device) =>\n      device.name === deviceName || formattedDeviceName(device) === deviceName,\n  );\n  if (!deviceByName) {\n    logger.error(\n      `Could not find a device named: \"${chalk.bold(\n        String(deviceName),\n      )}\". ${printFoundDevices(devices)}`,\n    );\n  }\n  return deviceByName;\n}\n\nexport function formattedDeviceName(simulator: Device) {\n  return simulator.version\n    ? `${simulator.name} (${simulator.version})`\n    : simulator.name;\n}\n\nexport function printFoundDevices(devices: Array<Device>) {\n  return [\n    'Available devices:',\n    ...devices.map((device) => `  - ${device.name} (${device.udid})`),\n  ].join('\\n');\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA0B;AAGnB,SAASA,cAAc,CAC5BC,OAAsB,EACtBC,UAAqC,EACrC;EACA,IAAIA,UAAU,KAAK,IAAI,EAAE;IACvB,MAAMC,cAAc,GAAGF,OAAO,CAACG,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAK,QAAQ,CAAE;IAChE,IAAIH,cAAc,EAAE;MAClBI,kBAAM,CAACC,IAAI,CACR,uCAAsCC,gBAAK,CAACC,IAAI,CAC/CP,cAAc,CAACQ,IAAI,CACnB,iCAAgC,CACnC;MACD,OAAOR,cAAc;IACvB,CAAC,MAAM;MACLI,kBAAM,CAACK,KAAK,CAAC,2BAA2B,CAAC;MACzC,OAAOC,SAAS;IAClB;EACF;EACA,MAAMC,YAAY,GAAGb,OAAO,CAACG,IAAI,CAC9BW,MAAM,IACLA,MAAM,CAACJ,IAAI,KAAKT,UAAU,IAAIc,mBAAmB,CAACD,MAAM,CAAC,KAAKb,UAAU,CAC3E;EACD,IAAI,CAACY,YAAY,EAAE;IACjBP,kBAAM,CAACK,KAAK,CACT,mCAAkCH,gBAAK,CAACC,IAAI,CAC3CO,MAAM,CAACf,UAAU,CAAC,CAClB,MAAKgB,iBAAiB,CAACjB,OAAO,CAAE,EAAC,CACpC;EACH;EACA,OAAOa,YAAY;AACrB;AAEO,SAASE,mBAAmB,CAACG,SAAiB,EAAE;EACrD,OAAOA,SAAS,CAACC,OAAO,GACnB,GAAED,SAAS,CAACR,IAAK,KAAIQ,SAAS,CAACC,OAAQ,GAAE,GAC1CD,SAAS,CAACR,IAAI;AACpB;AAEO,SAASO,iBAAiB,CAACjB,OAAsB,EAAE;EACxD,OAAO,CACL,oBAAoB,EACpB,GAAGA,OAAO,CAACoB,GAAG,CAAEN,MAAM,IAAM,OAAMA,MAAM,CAACJ,IAAK,KAAII,MAAM,CAACO,IAAK,GAAE,CAAC,CAClE,CAACC,IAAI,CAAC,IAAI,CAAC;AACd"}